# 🧪 测试数据使用指南

本文档介绍如何使用已添加的初始测试数据来测试绿色智能船艇农文旅服务平台的各项功能。

## 📋 快速开始

### 1. 启动应用
```bash
cd boat-service
python main.py
```

### 2. 访问API文档
- Swagger文档: http://localhost:8000/docs
- ReDoc文档: http://localhost:8000/redoc
- 健康检查: http://localhost:8000/health

## 👤 测试账号

| 角色 | 用户名 | 密码 | 邮箱 | 用途 |
|------|--------|------|------|------|
| 管理员 | admin | admin123 | admin@boat-service.com | 系统管理、审核等 |
| 商家1 | merchant1 | 123456 | merchant1@example.com | 船艇服务商 |
| 商家2 | merchant2 | 123456 | merchant2@example.com | 农产品供应商 |
| 用户1 | user1 | 123456 | user1@example.com | 已实名认证的普通用户 |
| 用户2 | user2 | 123456 | user2@example.com | 未实名认证的普通用户 |
| 船员1 | crew1 | 123456 | crew1@example.com | 蓝海船艇船员 |
| 船员2 | crew2 | 123456 | crew2@example.com | 蓝海船艇船员 |

## 🏢 商家信息

### 蓝海船艇服务 (merchant1)
- **营业执照号**: 440100000001234
- **联系电话**: 020-88888888
- **地址**: 广州市海珠区滨江东路123号
- **业务**: 船艇租赁服务
- **船艇数量**: 3艘

### 绿色农场直供 (merchant2)
- **营业执照号**: 440100000005678
- **联系电话**: 020-66666666
- **地址**: 广州市番禺区农业示范园区
- **业务**: 有机农产品销售
- **产品数量**: 6种

## 🚢 船艇数据

| 船艇名称 | 类型 | 载客量 | 小时费率 | 当前位置 | 证书号 |
|----------|------|--------|----------|----------|---------|
| 海风号观光船 | 观光船 | 50人 | ¥200/小时 | 珠江码头A区 | GD001234 |
| 渔乐号钓鱼船 | 钓鱼船 | 12人 | ¥150/小时 | 珠江码头B区 | GD005678 |
| 快乐号客船 | 客船 | 30人 | ¥180/小时 | 珠江码头C区 | GD009012 |

## 🥬 农产品数据

| 产品名称 | 分类 | 价格 | 库存 | 单位 | 评分 | 销量 |
|----------|------|------|------|------|------|------|
| 有机番茄 | 蔬菜 | ¥8.80 | 100 | 斤 | 4.80 | 55 |
| 农家土鸡蛋 | 其他 | ¥2.50 | 200 | 个 | 4.90 | 120 |
| 新鲜草莓 | 水果 | ¥15.00 | 50 | 盒 | 4.70 | 35 |
| 有机青菜 | 蔬菜 | ¥6.50 | 80 | 斤 | 4.60 | 45 |
| 优质大米 | 粮食 | ¥12.00 | 30 | 袋(5斤) | 4.85 | 25 |
| 新鲜海虾 | 海鲜 | ¥35.00 | 20 | 斤 | 4.95 | 18 |

## 👨‍⚓ 船员信息

| 船员 | 证号 | 所属商家 | 评分 | 状态 |
|------|------|----------|------|------|
| crew1 | GD船员001 | 蓝海船艇服务 | 4.80 | 活跃 |
| crew2 | GD船员002 | 蓝海船艇服务 | 4.65 | 活跃 |

## 🧪 测试场景

### 1. 用户注册与登录测试
```bash
# 登录API测试
curl -X POST "http://localhost:8000/api/v1/users/login" \
  -H "Content-Type: application/json" \
  -d '{"username": "user1", "password": "123456"}'
```

### 2. 船艇预约流程测试
1. **查看船艇列表** (user1登录)
   - GET `/api/v1/boats/`
2. **创建预约**
   - POST `/api/v1/bookings/`
3. **商家确认预约** (merchant1登录)
   - POST `/api/v1/bookings/{booking_id}/confirm`
4. **船员完成服务** (crew1登录)
   - POST `/api/v1/bookings/{booking_id}/complete`

### 3. 农产品购买流程测试
1. **查看产品列表** (user1登录)
   - GET `/api/v1/products/`
2. **添加到购物车**
   - POST `/api/v1/cart/add`
3. **创建订单**
   - POST `/api/v1/orders/`
4. **商家发货** (merchant2登录)
   - POST `/api/v1/orders/{order_id}/ship`

### 4. 商家管理测试
1. **查看订单列表** (merchant2登录)
   - GET `/api/v1/orders/merchant`
2. **添加新产品**
   - POST `/api/v1/products/`
3. **管理船艇** (merchant1登录)
   - GET `/api/v1/boats/`
   - POST `/api/v1/boats/`

### 5. 船员申请测试
1. **查看可申请商家** (新用户)
   - GET `/api/v1/crew/merchants`
2. **提交船员申请**
   - POST `/api/v1/crew/apply`
3. **处理申请** (merchant1登录)
   - POST `/api/v1/crew/handle-application`

### 6. 管理员功能测试
1. **查看系统概览** (admin登录)
   - GET `/api/v1/dashboard/overview`
2. **审核商家申请**
   - POST `/api/v1/merchants/audit`
3. **审核实名认证**
   - POST `/api/v1/realname-auth/audit`

## 📊 数据统计

运行脚本后的数据统计：
- **用户总数**: 7个
- **商家总数**: 2个
- **船艇总数**: 3艘
- **产品总数**: 6种
- **船员总数**: 2个

## 🔄 重新添加数据

如果需要重新添加测试数据：

```bash
# 清空现有数据（可选）
python init_db.py

# 重新添加测试数据
python scripts/add_initial_data.py
```

## 📝 注意事项

1. **文件上传**: 由于COS配置，文件上传功能在开发模式下会返回模拟结果
2. **邮件功能**: 需要配置正确的SMTP设置才能发送验证邮件
3. **支付功能**: 当前为模拟支付，不会产生实际费用
4. **实名认证**: user2为未实名认证状态，可用于测试认证流程

## 🚀 下一步

有了这些测试数据，你可以：
1. 测试完整的业务流程
2. 验证API接口功能
3. 进行前端界面开发
4. 测试权限控制
5. 验证数据库关系

祝测试愉快！🎉 